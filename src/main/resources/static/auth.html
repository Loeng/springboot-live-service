<!DOCTYPE html>
<html lang="en" ng-app="KingLogin">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>运营管理系统</title>

    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon-96x96.png">

    <!-- build:css({.tmp/serve,src}) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="lib/ionicons.css" >
    <link rel="stylesheet" href="lib/angular-toastr.css" >
    <link rel="stylesheet" href="lib/animate.css" >
    <link rel="stylesheet" href="lib/bootstrap.css" >
    <link rel="stylesheet" href="lib/bootstrap-select.css" >
    <link rel="stylesheet" href="lib/bootstrap-switch.css" >
    <link rel="stylesheet" href="lib/bootstrap-tagsinput.css" >
    <link rel="stylesheet" href="lib/font-awesome.css" >
    <link rel="stylesheet" href="lib/fullcalendar.css" >
    <link rel="stylesheet" href="lib/leaflet.css" >
    <link rel="stylesheet" href="lib/angular-progress-button-styles.min.css" >
    <link rel="stylesheet" href="lib/angular-chart.css" >
    <link rel="stylesheet" href="lib/chartist.min.css" >
    <link rel="stylesheet" href="lib/morris.css" >
    <link rel="stylesheet" href="lib/ion.rangeSlider.css" >
    <link rel="stylesheet" href="lib/ion.rangeSlider.skinFlat.css" >
    <link rel="stylesheet" href="lib/textAngular.css" >
    <link rel="stylesheet" href="lib/xeditable.css" >
    <link rel="stylesheet" href="lib/style.css" >
    <link rel="stylesheet" href="lib/loading-bar.css" >
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css({.tmp/serve,src}) styles/auth.css -->
    <!-- inject:css -->
    <link rel="stylesheet" href="app/auth.css">
    <!-- endinject -->
    <!-- endbuild -->
</head>
<body>
<main class="auth-main" ng-controller="LoginController" ng-if="show">
    <div class="auth-block">
        <h1>登录 KJZ Admin</h1>

        <form class="form-horizontal" ng-submit="save()">
            <div class="form-group">
                <label for="username" class="col-sm-2 control-label">用户名</label>

                <div class="col-sm-10">
                    <input type="text" class="form-control" id="username" placeholder="用户名" ng-model="user.username"
                           required>
                </div>
            </div>
            <div class="form-group">
                <label for="password" class="col-sm-2 control-label">密码</label>

                <div class="col-sm-10">
                    <input type="password" class="form-control" id="password" placeholder="密码" ng-model="user.password"
                           required>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default btn-auth">登录</button>
                    <a href="reg.html" class="forgot-pass">注册</a>
                </div>
            </div>
        </form>

        <div class="auth-sep"><span><span>or Sign in with one click</span></span></div>

        <div class="al-share-auth">
            <ul class="al-share clearfix">
                <li><i class="socicon socicon-facebook" title="Share on Facebook"></i></li>
                <li><i class="socicon socicon-twitter" title="Share on Twitter"></i></li>
                <li><i class="socicon socicon-google" title="Share on Google Plus"></i></li>
            </ul>
        </div>
    </div>
</main>
<div id="preloader" ng-show="!show">
    <div></div>
</div>
<!-- build:js(src) scripts/vendor.js -->
<!-- bower:js -->
<script src="lib/jquery.js"></script>
<script src="lib/Chart.js"></script>
<script src="lib/amcharts.js"></script>
<script src="lib/plugins/responsive/responsive.min.js"></script>
<script src="lib/serial.js"></script>
<script src="lib/funnel.js"></script>
<script src="lib/pie.js"></script>
<script src="lib/gantt.js"></script>
<script src="lib/amstock.js"></script>
<script src="lib/ammap.js"></script>
<script src="lib/maps/js/worldLow.js"></script>
<script src="lib/angular.js"></script>
<script src="lib/angular-route.js"></script>
<script src="lib/angular-resource.js"></script>
<script src="lib/jquery.slimscroll.js"></script>
<script src="lib/angular-slimscroll.js"></script>
<script src="lib/angular-toastr.tpls.js"></script>
<script src="lib/angular-touch.js"></script>
<script src="lib/jquery-ui/jquery-ui.js"></script>
<script src="lib/angular-ui-sortable/sortable.js"></script>
<script src="lib/dropdown.js"></script>
<script src="lib/bootstrap-select.js"></script>
<script src="lib/bootstrap-switch.js"></script>
<script src="lib/bootstrap-tagsinput.js"></script>
<script src="lib/moment.js"></script>
<script src="lib/fullcalendar.js"></script>
<script src="lib/jquery.easing.js"></script>
<script src="lib/jquery.easypiechart.js"></script>
<script src="lib/eaflet-src.js"></script>
<script src="lib/angular-progress-button-styles.min.js"></script>
<script src="lib/angular-ui-router.js"></script>
<script src="lib/angular-chart.js"></script>
<script src="lib/chartist.min.js"></script>
<script src="lib/angular-chartist.js"></script>
<script src="lib/eve.js"></script>
<script src="lib/raphael.min.js"></script>
<script src="lib/mocha.js"></script>
<script src="lib/morris.js"></script>
<script src="lib/angular-morris-chart.min.js"></script>
<script src="lib/ion.rangeSlider.js"></script>
<script src="lib/ui-bootstrap-tpls.js"></script>
<script src="lib/angular-animate.js"></script>
<script src="lib/rangy-core.js"></script>
<script src="lib/rangy-classapplier.js"></script>
<script src="lib/rangy-highlighter.js"></script>
<script src="lib/rangy-selectionsaverestore.js"></script>
<script src="lib/rangy-serializer.js"></script>
<script src="lib/rangy-textrange.js"></script>
<script src="lib/textAngular.js"></script>
<script src="lib/textAngular-sanitize.js"></script>
<script src="lib/textAngularSetup.js"></script>
<script src="lib/xeditable.js"></script>
<script src="lib/jstree.js"></script>
<script src="lib/dist/ngJsTree.js"></script>
<script src="lib/build/loading-bar.js"></script>
<script src="lib/angular-bootstrap-checkbox.js"></script>
<script src="lib/angular-autodisable.js"></script>
<script src="lib/ngStorage.js"></script>
<!-- endbower -->
<!-- endbuild -->

<script type="text/javascript">
    'use strict';

    angular.module('KingLogin', [
        'ngResource',
        'toastr',
    ]).run(function ($timeout, $rootScope) {
        $timeout(function () {
            $rootScope.show = true;
        },3000);
    });
</script>
<script type="text/javascript">
    (function () {
        'use strict';

        angular.module('KingLogin')
            .controller('LoginController', function ($scope, $resource, $window,toastr) {

                $scope.user = {};
                $scope.save = function () {
                    $resource('api/login', {}, {'login': {method: 'POST'}})
                        .login($scope.user, function (data) {
                            if (data.code == 0) {
                                $window.open('index.html', '_self');
                            }else{
                                toastr.warning(data.msg, "提示", {"progressBar": true,});
                            }
                        }, function (error) {
                            toastr.error(error, "提示", {"progressBar": true,});
                        });
                }
            });


    })();

</script>
<script type="text/javascript" color="255,192,203" opacity='0.9' zIndex="-1" count="200"
        src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>
</body>
</html>